<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIU MANYUN Portfolio</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/project.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend+Peta:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <!-- Added icons for app icon -->
    <link rel="apple-touch-icon" sizes="180x180" href="images/icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/icon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/icon.png">
</head>
<body>
    <header id="main-header">
        <img class="header-icon" src="images/icon.png" alt="App Icon">
        <h1 class="fade-in" style="margin-left: 20px;">LIU MANYUN</h1>
        <nav>
            <ul>
                <li><a href="#about" class="nav-link">About Me</a></li>
                <li><a href="#story" class="nav-link">Story</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li>
                    <select id="language-select" onchange="changeLanguage(this.value)">
                        <option value="en">English</option>
                        <option value="zh-Hant">繁體中文</option>
                        <option value="ja">日本語</option>
                    </select>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Replace the original hero section with a fixed background video -->
    <section class="hero-top">
        <div class="hero-top__hero-movie-video">
            <div class="hero-top__hero-movie-video-inner hero-top__hero-movie-video-inner--overlay" id="hero-top__hero-movie-video-inner">
                <video class="hero-top__hero-movie-video-body" id="hero-top__hero-movie-video-body" src="videos/header.mp4" autoplay muted playsinline loop data-channel-id="0" data-object-fit>
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
        <h2 class="hero-text" id="welcome">Welcome to My Portfolio</h2>
    </section>

    <article id="about" class="section fade-up">
        <!-- Changed to add "subtitle" class -->
        <h2 class="subtitle">About me</h2>
        <p class="itsme">↓It's Me↓</p>
        <!-- New wrapper for profile image and text -->
        <div class="about-wrapper">
            <div class="profile-container">
                <img id="profile-img" src="images/profile1.JPG" alt="Profile Image">
            </div>
            <div class="profile-text">
                <div class="details-columns">
                    <details>
                        <summary>基本情報</summary>
                        <ul>
                            <li>台湾出身、日本在住</li>
                            <li>日本語、英語、中国語を話せます。</li>
                            <li>筑波大学 知能機能システム学位 自然言語処理研究室所属</li>
                            <li>自然言語処理を専攻しています</li>
                        </ul>
                    </details>
                    <details>
                        <summary>保有する資格</summary>
                        <ul>
                            <li>日本語能力試験 N1</li>
                            <li>TOEIC 900点</li>
                            <li>ITパスポート</li>
                            <li>基本情報技術者</li>
                            <li>CWT中国語検定‧上級</li>
                            <li>大型自動車第一種免許 MT</li>
                            <li>普通自動二輪免許 MT</li>
                        </ul>
                    </details>
                    <details>
                        <summary>趣味</summary>
                        <ul>
                            <li>登山</li>
                            <li>クライミング</li>
                            <li>キャンプ</li>
                            <li>ベース‧ギターを弾くこと</li>
                        </ul>
                    </details>
                </div>
            </div>
        </div>
    </article>
    
    <article id="story" class="section fade-up">
        <h2 class="subtitle">Story</h2>
        <p id="projects-text">Check out some of my latest work.</p>
    
        <div class="project-cards">
            <!-- Story 1 -->
            <a href="story/story1.html">
                <div class="card">
                    <img src="images/story_cover1.JPG" width="10%" alt="Story 1">
                    <div class="overlay">
                        <h5>- title -</h5>
                    </div>
                    <h4>story1</h4>
                </div>
            </a>
    
            <!-- Story 2 -->
            <a href="story/story2.html">
                <div class="card">
                    <img src="images/story_cover2.JPG" width="10%" alt="Story 2">
                    <div class="overlay">
                        <h5>- title -</h5>
                    </div>
                    <h4>story2</h4>
                </div>
            </a>
    
            <!-- Story 3 -->
            <a href="story/story3.html">
                <div class="card">
                    <img src="images/story_cover3.JPG" width="10%" alt="Story 3">
                    <div class="overlay">
                        <h5>- title -</h5>
                    </div>
                    <h4>story3</h4>
                </div>
            </a>
        </div>
    </article>

    <footer>
        <p class="fade-in">© 2025 LIU MANYUN. All rights reserved.</p>
    </footer>

    <script>
        gsap.registerPlugin(ScrollTrigger);
    
        // Parallax background effect
        gsap.to(".parallax-background", {
            y: "-20%",
            ease: "none",
            scrollTrigger: {
                trigger: ".parallax",
                start: "top bottom",
                end: "bottom top",
                scrub: true
            }
        });
    
        // Fade-in and scroll effects
        gsap.utils.toArray(".fade-up").forEach(element => {
            gsap.from(element, {
                opacity: 0,
                y: 30,
                duration: 1,
                scrollTrigger: {
                    trigger: element,
                    start: "top 85%",
                    toggleActions: "play none none reverse"
                }
            });
        });
    
        // Smooth scrolling when clicking navigation links
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                document.getElementById(targetId).scrollIntoView({ behavior: 'smooth' });
            });
        });
    
        function changeLanguage(lang) {
            localStorage.setItem("lang", lang);
            applyLanguage(lang);
        }
    
        function applyLanguage(lang) {
            const header = document.getElementById("main-header");
    
            // Remove existing language-specific font classes
            header.classList.remove("font-en", "font-zh", "font-ja");
    
            // Add the appropriate font class based on the selected language
            if (lang === "en") {
                header.classList.add("font-en");
            } else if (lang === "zh-Hant") {
                header.classList.add("font-zh");
            } else if (lang === "ja") {
                header.classList.add("font-ja");
            }
    
            // Update translations
            document.title = translations[lang]["title"];
            document.getElementById("welcome").innerText = translations[lang]["welcome"];
            document.getElementById("about").querySelector("h2").innerText = translations[lang]["about"];
            document.getElementById("story").querySelector("h2").innerText = translations[lang]["story"];
            
            // Update nav link texts so that JP and ZH display the correct translations for about and projects
            document.querySelector('a[href="#about"]').innerText = translations[lang]["about"];
            document.querySelector('a[href="#story"]').innerText = translations[lang]["story"];
            
            // Ensure the "contact" section is updated
            const contactSection = document.querySelector('a[href="contact.html"]');
            if (contactSection) {
                contactSection.innerText = translations[lang]["contact"];
            }

            document.getElementById("language-select").value = lang;
        }

        // Language translations
        const translations = {
            "en": {
                "title": "LIU MANYUN Portfolio",
                "welcome": "Welcome to My Portfolio",
                "about": "About Me",
                "story": "Story",
                "contact": "Contact"
            },
            "zh-Hant": {
                "title": "劉曼筠的Portfolio",
                "welcome": "歡迎來到曼筠的Portfolio",
                "about": "關於我",
                "story": "小故事",
                "contact": "聯絡"
            },
            "ja": {
                "title": "リュウのポートフォリオ",
                "welcome": "曼筠のProtfolioへようこそ",
                "about": "私について",
                "story": "ストーリー",
                "contact": "コンタクト"
            }
        };
        
        // Load the saved language on page load
        window.onload = function() {
            const savedLang = localStorage.getItem("lang") || "en";
            applyLanguage(savedLang);
        };

        const profileContainer = document.querySelector('.profile-container');
        const profileImg = document.getElementById('profile-img');
        profileContainer.addEventListener('mouseenter', () => {
            profileImg.src = "images/profile2.JPG";
        });
        profileContainer.addEventListener('mouseleave', () => {
            profileImg.src = "images/profile1.JPG";
        });
        document.addEventListener("DOMContentLoaded", function(){
            const details = document.querySelectorAll(".details-columns details");
            details.forEach(detail => {
                detail.addEventListener("toggle", function(){
                    if(detail.open){
                        details.forEach(other => {
                            if(other !== detail){
                                other.removeAttribute("open");
                            }
                        });
                    }
                });
            });
        });
    </script>

</body>
</html>